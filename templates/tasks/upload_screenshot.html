{% load static %}
<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://unpkg.com/dropzone@5/dist/min/dropzone.min.css" />
</head>
<body>

<h3>Upload Screenshot</h3>

<form action="{% url 'upload-screenshot' %}" class="dropzone" id="screenshotDropzone" enctype="multipart/form-data">
  {% csrf_token %}
  <input type="hidden" name="task_id" value="{{ task.id }}">
</form>

<script src="https://unpkg.com/dropzone@5/dist/min/dropzone.min.js"></script>
<script>
Dropzone.options.screenshotDropzone = {
  maxFiles: 1,
  acceptedFiles: 'image/*',
  init: function () {
    this.on("success", function (file, response) {
      alert(response.message);
    });
  }
};
</script>

</body>
</html>
